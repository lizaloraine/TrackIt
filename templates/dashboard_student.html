<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Dashboard – TrackIt</title>

    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard_student.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>

<!-- NAVBAR -->
<nav class="navbar">
    <div class="nav-left">
        <strong>TrackIt</strong>
    </div>
    <div class="nav-right">
        <a href="/profile">{{ session.user_name }}</a>
        <a href="/logout">Logout</a>
    </div>
</nav>

<!-- MAIN DASHBOARD -->
<main class="student-dashboard">

    <!-- LEFT COLUMN -->
    <section class="left-col">

        <!-- JOIN BUTTON -->
        <button class="join-btn" id="join-class-btn">Join Class</button>

        <!-- Notifications -->
        <div class="panel notifications-panel">
            <div class="panel-header">
                <h3>Notifications</h3>
                <button id="mark-read" class="action-btn">Mark all read</button>
            </div>
            <div id="notifications-list" class="notifications-list">
                <div class="skeleton-item"></div>
                <div class="skeleton-item"></div>
            </div>
        </div>

        <!-- Search + Filters -->
        <div class="panel filter-panel">
            <input id="search-classes" placeholder="Search classes...">

            <div class="filters">
                <select id="filter-status">
                    <option value="">All</option>
                    <option value="low-attendance">Low Attendance (&lt;60%)</option>
                    <option value="high-absent">High Absent</option>
                </select>

                <select id="sort-classes">
                    <option value="alpha">Sort: A–Z</option>
                    <option value="most-absent">Most Absent</option>
                    <option value="attendance-desc">Best Attendance</option>
                </select>
            </div>
        </div>

        <!-- Classes -->
        <div id="classes-cards" class="classes-cards">
            <div class="skeleton-card"></div>
            <div class="skeleton-card"></div>
        </div>

    </section>

    <!-- RIGHT COLUMN -->
    <aside class="right-col">

        <!-- Attendance Summary -->
        <div class="panel attendance-analytics">
            <div class="panel-header"><h3>Attendance Summary</h3></div>
            <canvas id="attendanceChart"></canvas>
            <div id="attendance-stats" class="attendance-stats"></div>
        </div>

        <!-- Class Details -->
        <div class="panel class-detail-panel">
            <div class="panel-header"><h3>Class Details</h3></div>
            <div id="class-detail-content">
                <p class="muted">Select a class card to view details (attendance calendar, topics, download report).</p>
            </div>
        </div>

    </aside>

</main>

<!-- JOIN CLASS MODAL -->
<div id="modal-bg" class="modal-bg">
    <div class="modal-box">
        <h2>Join Class</h2>

        <input id="class-code-input" placeholder="Class Code">

        <div class="btn-row">
            <button id="cancel-join" class="btn-cancel">Cancel</button>
            <button id="confirm-join" class="btn-join">Join</button>
        </div>
    </div>
</div>

<script src="{{ url_for('static', filename='js/dashboard_student.js') }}"></script>

</body>
</html>
