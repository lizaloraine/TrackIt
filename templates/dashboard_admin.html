{% extends "base.html" %}
{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard_admin.css') }}">
{% endblock %}
{% block content %}
<div class="admin-dashboard">

  <header class="admin-header">
    <h1>Administrator Dashboard</h1>
    <a href="{{ url_for('logout') }}" class="logout-btn">Logout</a>
  </header>

  <section class="create-class-section">
    <h2>Create New Class</h2>
    <form method="POST" class="create-class-form">
      <div class="form-group">
        <label for="class_code">Class Code:</label>
        <input type="text" id="class_code" name="class_code" required>
      </div>

      <div class="form-group">
        <label for="subjectName">Subject Name:</label>
        <input type="text" id="subjectName" name="subjectName" required>
      </div>

      <div class="form-group">
        <label for="sections">Sections (comma-separated, e.g., 4101, 4201):</label>
        <input type="text" id="sections" name="sections" required>
      </div>

      <button type="submit" class="btn-primary">Create Class</button>
    </form>
  </section>

  <section class="existing-classes">
    <h2>Existing Classes</h2>
    <table class="class-table">
      <thead>
        <tr>
          <th>Class Code</th>
          <th>Subject Name</th>
          <th>Sections</th>
          <th>Teacher Count</th>
          <th>Student Count</th>
        </tr>
      </thead>
      <tbody>
        {% for c in classes %}
        <tr>
          <td>{{ c.classCode }}</td>
          <td>{{ c.subjectName }}</td>
          <td>
            {% if c.sections %}
              {{ c.sections.keys() | join(', ') }}
            {% else %}
              -
            {% endif %}
          </td>
          <td>{{ c.teacher_count }}</td>
          <td>{{ c.student_count }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </section>
</div>
{% endblock %}
